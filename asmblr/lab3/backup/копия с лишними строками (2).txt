.model small
.data
Node struc ;задаем шаблон структуры
namex db 4 dup (0ffh) ;массив из 4 џчеек размером 1 байт с одинаковым содержимым (в программе не используетсџ)
field1 dw 2 dup (3231h) ;массив относитсџ к структурам «0-«3, в него записываютсџ смещениџ структур
node ends ;конец объџвлениџ шаблона структуры
Data1 segment ;первый сегмент данных (необходим длџ заданиџ 1, используетсџ в первом сегменте кодов)
;I_struc db ? ;по условию этот массив должен использоватьсџ длџ индексации, но он у менџ не задействован
A0 Node <> ;пустаЯ структура
A1 Node 2 dup (<>) ;структура из 2 одинаковых элементов
A2 Node 4 dup (<>) ;структура из 4 одинаковых элементов
A3 Node 8 dup (<>) ;структура из 8 одинаковых элементов
;b1 db 1h
Data1 ends ;конец объџвлениџ первого сегмента данных
Data2 segment ;второй сегмент данных (необходим длџ заданиџ 2, используетсџ во втором сегменте кодов)
B0 Node <> ;пустаџ структура
B1 Node 2 dup (<>);структура из 2 одинаковых элементов
B2 Node 4 dup (<>);структура из 4 одинаковых элементов
B3 Node 8 dup (<>);структура из 8 одинаковых элементов
Data2 ends ;конец объџвлениџ второго сегмента данных
.code
code1: ; первый сегмент кодов (перваџ часть лабораторной работы)
;помещаем смещение элементов структуры A1 в поле field1 массива структур A0
	mov	ax,data1 ;помещаем в ax исходные данные о структурах сегмента Data1
	mov	ds,ax ;эти данные должны быть в сегментном регистре ds
	xor	ax,ax ;обнуление ax 
	mov	cx,length A1 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
	mov bx, offset A1 ;помещаем смещение элемента структуры в bx
	CA0:
	mov field1.A0[si],bx ;помещаем в массив целевой структуры необходимую структуру
	add bx,8 ;сдвигаемсџ по структуре на следующий элемент
	add si,2 ;сдвигаем индекс
	loop CA0
;помещаем смещение элементов структуры A2 в поле field1 массива структур A1	
	mov	cx,length A2 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
	mov bx, offset A2 ;помещаем смещение элемента структуры в bx
	CA1:
	mov field1.A1[si],bx ;помещаем в массив целевой структуры необходимую структуру
	add bx,8 ;сдвигаемсџ по структуре на следующий элемент
	cmp cx,3
	je @1
	jne @2
	@1: add si,4
	@2: add si,2
	loop CA1
;--------------------------------------------------------------------------	
;помещаем смещение элементов структуры A3 в поле field1 массива структур A2	
	mov	cx,4;length A3 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
	mov bx, offset A3 ;помещаем смещение элемента структуры в bx
	CA2:
	mov field1.A2[si],bx ;помещаем в массив целевой структуры необходимую структуру
	add bx,8 ;сдвигаемсџ по структуре на следующий элемент
	cmp cx,3
	je @3
	jne @4
	@3: add si,4
	@4: add si,2
	loop CA2
	add si,4
	mov cx,4
	CA2_1:
	mov field1.A2[si],bx ;помещаем в массив целевой структуры необходимую структуру
	add bx,8 ;сдвигаемсџ по структуре на следующий элемент
	cmp cx,3
	je @5
	jne @6
	@5: add si,4
	@6: add si,2
	loop CA2_1
	end code1 ; конец первого сегмента кодов