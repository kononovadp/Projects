.model small
.stack 256
.data
Node struc ; объявляем шаблон структуры
namex db 4 dup (0ffh)
field1 dw 2 dup (0)
node ends ;конец объявления шаблона структуры
Data1 segment ;первый сегмент данных (необходим для задания 1, используется в первом сегменте кодов)
I_struc db ? ;по условию этот массив должен использоваться для индексации, но он у меня не задействован
A0 Node <>
A1 Node 2 dup (<>)
A2 Node 4 dup (<>)
A3 Node 8 dup (<>)
Data1 ends ;конец объявления первого сегмента данных
Data2 segment ;второй сегмент данных (необходим для задания 2, используется во втором сегменте кодов)
B0 Node <>
B1 Node 2 dup (<>)
B2 Node 4 dup (<>)
B3 Node 8 dup (<>)
Data2 ends ;конец объявления второго сегмента данных
.code
code1: ; первый сегмент кодов
;помещаем смещение элементов структуры A1 в поле field1 массива структур A0
	mov	ax,data1 ;помещаем в ax исходные данные о структурах
	mov	ds,ax ;инициализация регистра ds
	xor	ax,ax ;обнуление ax 
	mov	cx,length A1 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
CA0:
	mov bh, offset A1 ;помещаем смещение элемента структуры в bh
	mov field1.A0[si],bh ;помещаем в массив целевой структуры необходимую структуру
	inc A1 ;сдвигаемся по структуре на следующий элемент
;mov I_struc[si],si ; помещаем индекс элемента в массив для индексов (необходимо по условию)
	inc si ;сдвигаем индекс
	loop CA0

;помещаем смещение элементов структуры A2 в поле field1 массива структур A1	
	;mov	ax,data1 ;помещаем в ax исходные данные о структурах
	;mov	ds,ax ;инициализация регистра ds
	;xor	ax,ax ;обнуление ax 
	mov	cx,length A2 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
CA1:
	mov bh, offset A2 ;помещаем смещение элемента структуры в bh
	mov field1.A1[si],bh ;помещаем в массив целевой структуры необходимую структуру
	inc A2 ;сдвигаемся по структуре на следующий элемент
;mov I_struc[si],si ; помещаем индекс элемента в массив для индексов (необходимо по условию)
	inc si ;сдвигаем индекс
	loop CA1

;помещаем смещение элементов структуры A3 в поле field1 массива структур A2	
	;mov	ax,data1 ;помещаем в ax исходные данные о структурах
	;mov	ds,ax ;инициализация регистра ds
	;xor	ax,ax ;обнуление ax 
	mov	cx,length A3 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
CA2:
	mov bh, offset A3 ;помещаем смещение элемента структуры в bh
	mov field1.A2[si],bh ;помещаем в массив целевой структуры необходимую структуру
	inc A3 ;сдвигаемся по структуре на следующий элемент
;mov I_struc[si],si ; помещаем индекс элемента в массив для индексов (необходимо по условию)
	inc si ;сдвигаем индекс
	loop CA2
end code1 ; конец первого сегмента кодов
;=====================вторая часть лабораторной работы=====================;
code2:
	mov	ax,data2 ;помещаем в ax исходные данные о структурах
	mov	ds,ax ;инициализация регистра ds
	xor	ax,ax ;обнуление ax 
	mov	cx,length A0 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
CB0: ;помещаем содержимое структуры A0 в структуру B0
	mov bh, A0 ;помещаем элемент структуры в bh
	mov B0,bh ;помещаем в массив целевой структуры необходимую структуру
	inc A0 ;сдвигаемся по структуре на следующий элемент
	inc si ;сдвигаем индекс
	loop CB0

	;mov	ax,data2 ;помещаем в ax исходные данные о структурах
	;mov	ds,ax ;инициализация регистра ds
	;xor	ax,ax ;обнуление ax 
	mov	cx,length A1 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
CB1: ;помещаем содержимое структуры A1 в структуру B1
	mov bh, A1 ;помещаем элемент структуры в bh
	mov B1,bh ;помещаем в массив целевой структуры необходимую структуру
	inc A1 ;сдвигаемся по структуре на следующий элемент
	inc si ;сдвигаем индекс
	loop CB1

	;mov	ax,data2 ;помещаем в ax исходные данные о структурах
	;mov	ds,ax ;инициализация регистра ds
	;xor	ax,ax ;обнуление ax 
	mov	cx,length A2 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
CB2: ;помещаем содержимое структуры A2 в структуру B2
	mov bh, A2 ;помещаем элемент структуры в bh
	mov B2,bh ;помещаем в массив целевой структуры необходимую структуру
	inc A2 ;сдвигаемся по структуре на следующий элемент
	inc si ;сдвигаем индекс
	loop CB2

	;mov	ax,data2 ;помещаем в ax исходные данные о структурах
	;mov	ds,ax ;инициализация регистра ds
	;xor	ax,ax ;обнуление ax 
	mov	cx,length A3 ;помещаем в счетчик размер структуры, из которой будем перемещать элементы
	mov	si,0 ;устанавливаем индекс начального элемента в cx 
CB3: ;помещаем содержимое структуры A3 в структуру B3
	mov bh, A3 ;помещаем элемент структуры в bh
	mov B3,bh ;помещаем в массив целевой структуры необходимую структуру
	inc A3 ;сдвигаемся по структуре на следующий элемент
	inc si ;сдвигаем индекс
	loop CB3
code2 end

